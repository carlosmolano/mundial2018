var ggroupa = {
                1: {id:1, country:"Rusia", pj:0, pg:0, pe:0, pp:0, gf:0, gc:0, dg:0, pt:0, flag:"//as01.epimg.net/img/comunes/fotos/fichas/paises/svg/rus.svg" },
                2: {id:2, country:"A.Saudita", pj:0, pg:0, pe:0, pp:0, gf:0, gc:0, dg:0, pt:0, flag:"//as01.epimg.net/img/comunes/fotos/fichas/paises/svg/ksa.svg" },
                3: {id:3, country:"Egipto", pj:0, pg:0, pe:0, pp:0, gf:0, gc:0, dg:0, pt:0, flag:"//as01.epimg.net/img/comunes/fotos/fichas/paises/svg/egy.svg" },
                4: {id:4, country:"Uruguay", pj:0, pg:0, pe:0, pp:0, gf:0, gc:0, dg:0, pt:0, flag:"//as01.epimg.net/img/comunes/fotos/fichas/paises/svg/uru.svg" }
            };

var ggroupb = {
                1: {id:1, country:"Portugal", pj:0, pg:0, pe:0, pp:0, gf:0, gc:0, dg:0, pt:0, flag:"//as01.epimg.net/img/comunes/fotos/fichas/paises/svg/por.svg"},
                2: {id:2, country:"España", pj:0, pg:0, pe:0, pp:0, gf:0, gc:0, dg:0, pt:0, flag:"//as01.epimg.net/img/comunes/fotos/fichas/paises/svg/esp.svg"},
                3: {id:3, country:"Marruecos", pj:0, pg:0, pe:0, pp:0, gf:0, gc:0, dg:0, pt:0, flag:"//as01.epimg.net/img/comunes/fotos/fichas/paises/svg/mar.svg"},
                4: {id:4, country:"Irán", pj:0, pg:0, pe:0, pp:0, gf:0, gc:0, dg:0, pt:0, flag:"//as01.epimg.net/img/comunes/fotos/fichas/paises/svg/iri.svg"}
            };

var ggroupc = {
                1: {id:1, country:"Francia", pj:0, pg:0, pe:0, pp:0, gf:0, gc:0, dg:0, pt:0, flag:"//as01.epimg.net/img/comunes/fotos/fichas/paises/svg/fra.svg"},
                2: {id:2, country:"Australia", pj:0, pg:0, pe:0, pp:0, gf:0, gc:0, dg:0, pt:0, flag:"//as01.epimg.net/img/comunes/fotos/fichas/paises/svg/aus.svg"},
                3: {id:3, country:"Peru", pj:0, pg:0, pe:0, pp:0, gf:0, gc:0, dg:0, pt:0, flag:"//as01.epimg.net/img/comunes/fotos/fichas/paises/svg/per.svg"},
                4: {id:4, country:"Dinamarca", pj:0, pg:0, pe:0, pp:0, gf:0, gc:0, dg:0, pt:0, flag:"//as01.epimg.net/img/comunes/fotos/fichas/paises/svg/den.svg"}
            };

var ggroupd = {
                1: {id:1, country:"Argentina", pj:0, pg:0, pe:0, pp:0, gf:0, gc:0, dg:0, pt:0, flag:"//as01.epimg.net/img/comunes/fotos/fichas/paises/svg/arg.svg"},
                2: {id:2, country:"Islandia", pj:0, pg:0, pe:0, pp:0, gf:0, gc:0, dg:0, pt:0, flag:"//as01.epimg.net/img/comunes/fotos/fichas/paises/svg/isl.svg"},
                3: {id:3, country:"Croacia", pj:0, pg:0, pe:0, pp:0, gf:0, gc:0, dg:0, pt:0, flag:"//as01.epimg.net/img/comunes/fotos/fichas/paises/svg/cro.svg"},
                4: {id:4, country:"Nigeria", pj:0, pg:0, pe:0, pp:0, gf:0, gc:0, dg:0, pt:0, flag:"//as01.epimg.net/img/comunes/fotos/fichas/paises/svg/ngr.svg"}
            };


var ggroupe = {
                1: {id:1, country:"Brasil", pj:0, pg:0, pe:0, pp:0, gf:0, gc:0, dg:0, pt:0, flag:"//as01.epimg.net/img/comunes/fotos/fichas/paises/svg/bra.svg"},
                2: {id:2, country:"Suiza", pj:0, pg:0, pe:0, pp:0, gf:0, gc:0, dg:0, pt:0, flag:"//as01.epimg.net/img/comunes/fotos/fichas/paises/svg/sui.svg"},
                3: {id:3, country:"C.Rica", pj:0, pg:0, pe:0, pp:0, gf:0, gc:0, dg:0, pt:0, flag:"//as01.epimg.net/img/comunes/fotos/fichas/paises/svg/crc.svg"},
                4: {id:4, country:"Serbia", pj:0, pg:0, pe:0, pp:0, gf:0, gc:0, dg:0, pt:0, flag:"//as01.epimg.net/img/comunes/fotos/fichas/paises/svg/srb.svg"}
            };

var ggroupf = {
                1: {id:1, country:"Alemania", pj:0, pg:0, pe:0, pp:0, gf:0, gc:0, dg:0, pt:0, flag:"//as01.epimg.net/img/comunes/fotos/fichas/paises/svg/ger.svg"},
                2: {id:2, country:"México", pj:0, pg:0, pe:0, pp:0, gf:0, gc:0, dg:0, pt:0, flag:"//as01.epimg.net/img/comunes/fotos/fichas/paises/svg/mex.svg"},
                3: {id:3, country:"Suecia", pj:0, pg:0, pe:0, pp:0, gf:0, gc:0, dg:0, pt:0, flag:"//as01.epimg.net/img/comunes/fotos/fichas/paises/svg/swe.svg"},
                4: {id:4, country:"C.Sur", pj:0, pg:0, pe:0, pp:0, gf:0, gc:0, dg:0, pt:0, flag:"//as01.epimg.net/img/comunes/fotos/fichas/paises/svg/kor.svg"}
            };

var ggroupg = {
                1: {id:1, country:"Bélgica", pj:0, pg:0, pe:0, pp:0, gf:0, gc:0, dg:0, pt:0, flag:"//as01.epimg.net/img/comunes/fotos/fichas/paises/svg/bel.svg"},
                2: {id:2, country:"Panamá", pj:0, pg:0, pe:0, pp:0, gf:0, gc:0, dg:0, pt:0, flag:"//as01.epimg.net/img/comunes/fotos/fichas/paises/svg/pan.svg"},
                3: {id:3, country:"Túnez", pj:0, pg:0, pe:0, pp:0, gf:0, gc:0, dg:0, pt:0, flag:"//as01.epimg.net/img/comunes/fotos/fichas/paises/svg/tun.svg"},
                4: {id:4, country:"Inglaterra", pj:0, pg:0, pe:0, pp:0, gf:0, gc:0, dg:0, pt:0, flag:"//as01.epimg.net/img/comunes/fotos/fichas/paises/svg/ing.svg"}
            };

var ggrouph = {
                1: {id:1, country:"Polonia", pj:0, pg:0, pe:0, pp:0, gf:0, gc:0, dg:0, pt:0, flag:"//as01.epimg.net/img/comunes/fotos/fichas/paises/svg/pol.svg"},
                2: {id:2, country:"Senegal", pj:0, pg:0, pe:0, pp:0, gf:0, gc:0, dg:0, pt:0, flag:"//as01.epimg.net/img/comunes/fotos/fichas/paises/svg/sen.svg"},
                3: {id:3, country:"Colombia", pj:0, pg:0, pe:0, pp:0, gf:0, gc:0, dg:0, pt:0, flag:"//as01.epimg.net/img/comunes/fotos/fichas/paises/svg/col.svg"},
                4: {id:4, country:"Japón", pj:0, pg:0, pe:0, pp:0, gf:0, gc:0, dg:0, pt:0, flag:"//as01.epimg.net/img/comunes/fotos/fichas/paises/svg/jpn.svg"}
            };


var app = new Vue({
    el: '#app',
    data: {
        fix: {
                'groupa':[[],[],[],[],[],[],[]],
                'groupb':[[],[],[],[],[],[],[]],
                'groupc':[[],[],[],[],[],[],[]],
                'groupd':[[],[],[],[],[],[],[]],
                'groupe':[[],[],[],[],[],[],[]],
                'groupf':[[],[],[],[],[],[],[]],
                'groupg':[[],[],[],[],[],[],[]],
                'grouph':[[],[],[],[],[],[],[]]
            },
        challenges: [[1,2],[3,4],[1,3],[2,4],[1,4],[2,3]],
        groupa : JSON.parse(JSON.stringify(ggroupa)),
        groupb : JSON.parse(JSON.stringify(ggroupb)),
        groupc : JSON.parse(JSON.stringify(ggroupc)),
        groupd : JSON.parse(JSON.stringify(ggroupd)),
        groupe : JSON.parse(JSON.stringify(ggroupe)),
        groupf : JSON.parse(JSON.stringify(ggroupf)),
        groupg : JSON.parse(JSON.stringify(ggroupg)),
        grouph : JSON.parse(JSON.stringify(ggrouph))
    },
    methods: {
        orderTable : function (group) {

            switch(group) {
                case 'groupa' :
                            this.groupa = JSON.parse(JSON.stringify(ggroupa));
                            this.aux_group = this.groupa;
                        break;
                case 'groupb' :
                            this.groupb = JSON.parse(JSON.stringify(ggroupb));
                            this.aux_group = this.groupb;
                        break;
                case 'groupc' :
                            this.groupc = JSON.parse(JSON.stringify(ggroupc));
                            this.aux_group = this.groupc;
                        break;
                case 'groupd' :
                            this.groupd = JSON.parse(JSON.stringify(ggroupd));
                            this.aux_group = this.groupd;
                        break;
                case 'groupe' :
                            this.groupe = JSON.parse(JSON.stringify(ggroupe));
                            this.aux_group = this.groupe;
                        break;
                case 'groupf' :
                            this.groupf = JSON.parse(JSON.stringify(ggroupf));
                            this.aux_group = this.groupf;
                        break;
                case 'groupg' :
                            this.groupg = JSON.parse(JSON.stringify(ggroupg));
                            this.aux_group = this.groupg;
                        break;
                case 'grouph' :
                            this.grouph = JSON.parse(JSON.stringify(ggrouph));
                            this.aux_group = this.grouph;
                        break;
            }

            
            var chall = 1;

            this.challenges.forEach((country) => {

                if( isNumber(this.fix[group][chall][country[0]]) && isNumber(this.fix[group][chall][country[1]]) ) {

                    if( parseInt(this.fix[group][chall][country[0]],10) > parseInt(this.fix[group][chall][country[1]],10) ) {
                        this.aux_group[country[0]]['pj']++;
                        this.aux_group[country[0]]['pg']++;
                        this.aux_group[country[0]]['gf']+=parseInt(this.fix[group][chall][country[0]],10);
                        this.aux_group[country[0]]['gc']+=parseInt(this.fix[group][chall][country[1]],10);
                        //this.aux_group[country[0]]['dg']=this.aux_group[country[0]]['gf']-this.aux_group[country[0]]['gc'];
                        this.aux_group[country[0]]['pt']+=3;

                        this.aux_group[country[1]]['pj']++;
                        this.aux_group[country[1]]['pp']++;
                        this.aux_group[country[1]]['gf']+=parseInt(this.fix[group][chall][country[1]],10);
                        this.aux_group[country[1]]['gc']+=parseInt(this.fix[group][chall][country[0]],10);
                        //this.aux_group[country[1]]['dg']=parseInt(this.aux_group[country[1]]['gf'],10)-parseInt(this.aux_group[country[1]]['gc'],10);
                    } else {
                        if( parseInt(this.fix[group][chall][country[0]],10) < parseInt(this.fix[group][chall][country[1]],10) ) {
                            this.aux_group[country[1]]['pj']++;
                            this.aux_group[country[1]]['pg']++;
                            this.aux_group[country[1]]['gf']+=parseInt(this.fix[group][chall][country[1]],10);
                            this.aux_group[country[1]]['gc']+=parseInt(this.fix[group][chall][country[0]],10);
                            //this.aux_group[country[1]]['dg']=parseInt(this.aux_group[country[1]]['gf'],10)-parseInt(this.aux_group[country[1]]['gc'],10);
                            this.aux_group[country[1]]['pt']+=3;

                            this.aux_group[country[0]]['pj']++;
                            this.aux_group[country[0]]['pp']++;
                            this.aux_group[country[0]]['gc']+=parseInt(this.fix[group][chall][country[1]],10);
                            this.aux_group[country[0]]['gf']+=parseInt(this.fix[group][chall][country[0]],10);
                            //this.aux_group[country[0]]['dg']=parseInt(this.aux_group[country[1]]['gf'],10)-parseInt(this.aux_group[country[1]]['gc'],10);
                        } else {
                            this.aux_group[country[1]]['pj']++;
                            this.aux_group[country[1]]['pe']++;
                            this.aux_group[country[1]]['gf']+=parseInt(this.fix[group][chall][country[1]],10);
                            this.aux_group[country[1]]['gc']+=parseInt(this.fix[group][chall][country[0]],10);
                            //this.aux_group[country[1]]['dg']=parseInt(this.aux_group[country[1]]['gf'],10)-parseInt(this.aux_group[country[1]]['gc'],10);
                            this.aux_group[country[1]]['pt']+=1;

                            this.aux_group[country[0]]['pj']++;
                            this.aux_group[country[0]]['pe']++;
                            this.aux_group[country[0]]['gf']+=parseInt(this.fix[group][chall][country[1]],10);
                            this.aux_group[country[0]]['gc']+=parseInt(this.fix[group][chall][country[0]],10);
                            //this.aux_group[country[0]]['dg']=parseInt(this.aux_group[country[1]]['gf'],10)-parseInt(this.aux_group[country[1]]['gc'],10);
                            this.aux_group[country[0]]['pt']+=1;
                        }
                    }

                    this.aux_group[country[0]]['dg']=parseInt(this.aux_group[country[0]]['gf'],10)-parseInt(this.aux_group[country[0]]['gc'],10);

                    this.aux_group[country[1]]['dg']=parseInt(this.aux_group[country[1]]['gf'],10)-parseInt(this.aux_group[country[1]]['gc'],10);
                }

                chall++;
            });
        }
    },
    computed: {
        orderGroupa: function () {
            return _.orderBy(this.groupa, ['pt', 'dg', 'gf','id'],['desc','desc','desc','asc']);
        },
        orderGroupb: function () {
            return _.orderBy(this.groupb, ['pt', 'dg', 'gf','id'],['desc','desc','desc','asc']);
        },
        orderGroupc: function () {
            return _.orderBy(this.groupc, ['pt', 'dg', 'gf','id'],['desc','desc','desc','asc']);
        },
        orderGroupd: function () {
            return _.orderBy(this.groupd, ['pt', 'dg', 'gf','id'],['desc','desc','desc','asc']);
        },
        orderGroupe: function () {
            return _.orderBy(this.groupe, ['pt', 'dg', 'gf','id'],['desc','desc','desc','asc']);
        },
        orderGroupf: function () {
            return _.orderBy(this.groupf, ['pt', 'dg', 'gf','id'],['desc','desc','desc','asc']);
        },
        orderGroupg: function () {
            return _.orderBy(this.groupg, ['pt', 'dg', 'gf','id'],['desc','desc','desc','asc']);
        },
        orderGrouph: function () {
            return _.orderBy(this.grouph, ['pt', 'dg', 'gf','id'],['desc','desc','desc','asc']);
        }
    }
});

function isNumber(n) {
    return !isNaN(parseFloat(n)) && isFinite(n);
}